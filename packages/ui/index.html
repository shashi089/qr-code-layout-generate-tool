<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QR Layout Designer | Open Source Package</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/src/styles.css" />
</head>

<body>
  <header>
    <h1>
      <div class="logo-icon">QR</div>
      QR Layout Designer
    </h1>
    <div style="display: flex; gap: 12px; align-items: center;">
      <button id="btn-theme-toggle" class="btn btn-outline">Dark Mode</button>
      <div style="width: 1px; height: 24px; background: var(--border-color); margin: 0 4px;"></div>
      <button id="btn-export-json" class="btn btn-outline">Export JSON</button>
      <button id="btn-save-all" class="btn btn-primary">Get Layout Data</button>
    </div>
  </header>

  <div class="main-container">
    <div class="edit-view" style="display: flex; flex: 1; height: 100%;">
      <!-- LEFT SIDEBAR: CONFIG & ELEMENTS -->
      <aside class="sidebar">
        <!-- Configuration -->
        <div class="sidebar-section">
          <div class="sidebar-title">Layout Settings</div>
          <div class="form-group">
            <label>Target Entity</label>
            <select id="layout-entity">
              <option value="">Select Entity...</option>
              <option value="employee">Employee</option>
              <option value="vendor">Vendor</option>
            </select>
          </div>
          <div class="form-group">
            <label>Internal Layout Name</label>
            <input type="text" id="layout-name" placeholder="Standard Badge" />
          </div>
          <div class="form-row">
            <div class="form-group" style="flex: 1">
              <label id="label-width">Width (mm)</label>
              <input type="number" id="layout-width" value="100" step="0.01" />
            </div>
            <div class="form-group" style="flex: 1">
              <label id="label-height">Height (mm)</label>
              <input type="number" id="layout-height" value="60" step="0.01" />
            </div>
          </div>
          <div class="form-group">
            <label>Measurement Unit</label>
            <select id="layout-unit">
              <option value="mm">Millimeters (mm)</option>
              <option value="cm">Centimeters (cm)</option>
              <option value="in">Inches (in)</option>
              <option value="px">Pixels (px)</option>
            </select>
          </div>
          <div class="form-group">
            <label>Base Background</label>
            <div class="color-picker-wrapper">
              <div id="bg-preview" class="color-preview" style="background: #ffffff"></div>
              <input type="text" id="layout-bg" value="#ffffff" />
            </div>
          </div>
        </div>

        <!-- Elements List -->
        <div class="sidebar-section">
          <div class="sidebar-title">
            Elements
            <div style="display: flex; gap: 6px">
              <button id="btn-add-text" class="btn btn-outline btn-sm" title="Add Text">+ Text</button>
              <button id="btn-add-qr" class="btn btn-outline btn-sm" title="Add QR">+ QR</button>
            </div>
          </div>
          <div id="elements-container" class="element-list" style="margin-top: 8px;">
            <!-- JS Injected -->
          </div>
        </div>

        <!-- Component Info -->
        <div class="sidebar-section"
          style="padding: 12px; background: var(--panel-bg-alt); border-top: 1px solid var(--border-color);">
          <div style="font-size: 11px; color: var(--text-secondary); line-height: 1.4;">
            This designer is a standalone component. Save returns the <strong>StickerLayout</strong> object.
          </div>
        </div>
      </aside>

      <!-- CENTER: CANVAS -->
      <main class="preview-area">
        <div class="canvas-wrapper">
          <canvas id="preview-canvas"></canvas>
          <div id="editor-overlay" class="editor-overlay"></div>
        </div>
      </main>

      <!-- RIGHT SIDEBAR: PROPERTIES -->
      <aside class="sidebar-right" id="property-panel" style="display: none;">
        <div class="sidebar-section">
          <div class="sidebar-title">Element Properties</div>
          <div id="prop-content">
            <!-- JS Injected -->
          </div>
          <button id="btn-delete-element" class="btn btn-danger btn-block" style="margin-top: 24px">Delete
            Element</button>
        </div>
      </aside>
    </div>
  </div>

  <script type="module" src="/src/index.ts"></script>
</body>

</html>